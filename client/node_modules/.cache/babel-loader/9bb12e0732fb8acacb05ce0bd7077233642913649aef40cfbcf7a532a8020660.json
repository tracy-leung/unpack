{"ast":null,"code":"import _objectSpread from\"/Users/tracyyyleung/Documents/Cursor/intent-clarifier/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import{ArrowUpIcon,Loader2}from'lucide-react';import{Button}from'./components/ui/button';import{Card,CardContent}from'./components/ui/card';import{Textarea}from'./components/ui/textarea';import AvatarFallback from'./components/AvatarFallback';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5001/api';function App(){const[messages,setMessages]=useState([]);const[currentInput,setCurrentInput]=useState('');const[isLoading,setIsLoading]=useState(false);const[isSending,setIsSending]=useState(false);const[messageAnswers,setMessageAnswers]=useState({});const[lockedMessages,setLockedMessages]=useState(new Set());const[loadingMessages,setLoadingMessages]=useState(new Set());const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=async()=>{if(!currentInput.trim()||isLoading||isSending)return;const userMessage={id:Date.now(),type:'user',content:currentInput.trim(),timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setCurrentInput('');setIsSending(true);setIsLoading(true);// Reset isSending after a brief moment (user action is complete)\nsetTimeout(()=>setIsSending(false),100);try{// Use the new combined API endpoint with model configuration\nconst response=await axios.post(\"\".concat(API_BASE_URL,\"/check-and-respond\"),{prompt:userMessage.content});if(response.data.needsClarification){const clarifyingMessage={id:Date.now()+1,type:'assistant-clarifying',content:response.data.message,questions:response.data.questions,timestamp:new Date()};setMessages(prev=>[...prev,clarifyingMessage]);}else{const answerMessage={id:Date.now()+1,type:'assistant-answer',content:response.data.answer,timestamp:new Date()};setMessages(prev=>[...prev,answerMessage]);}}catch(error){console.error('Error processing message:',error);// Show error message to user\nconst errorMessage={id:Date.now()+1,type:'assistant-answer',content:\"I'm sorry, I encountered an error processing your request. Please try again.\",timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);setIsSending(false);}};const handleAnswerChange=(messageId,questionIndex,value)=>{setMessageAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[messageId]:_objectSpread(_objectSpread({},prev[messageId]),{},{[questionIndex]:value})}));};const handleSubmitAnswers=async messageId=>{const currentAnswers=messageAnswers[messageId]||{};// Check if all fields are empty (treat as skip)\nconst hasAnswers=Object.values(currentAnswers).some(answer=>answer&&answer.trim()!=='');if(!hasAnswers){// Treat as skip if no answers provided\nhandleSkipQuestions(messageId);return;}// Lock the message and set loading state for this specific message\nsetLockedMessages(prev=>new Set([...prev,messageId]));setLoadingMessages(prev=>new Set([...prev,messageId]));try{// Find the clarifying message to get its index\nconst clarifyingMessageIndex=messages.findIndex(msg=>msg.id===messageId);if(clarifyingMessageIndex===-1){throw new Error('Clarifying message not found');}// Find the user message that comes before this clarifying message\nconst userMessage=messages.slice(0,clarifyingMessageIndex).reverse().find(msg=>msg.type==='user');if(!userMessage){throw new Error('Original user message not found');}// Generate answer using the new API endpoint with clarifications\nconst answerResponse=await axios.post(\"\".concat(API_BASE_URL,\"/generate-final\"),{prompt:userMessage.content,clarifications:Object.values(currentAnswers).filter(answer=>answer&&answer.trim()!==''),skipClarifications:false,fromClarificationFlow:true});const answerMessage={id:Date.now(),type:'assistant-answer',content:answerResponse.data.answer,timestamp:new Date()};setMessages(prev=>[...prev,answerMessage]);}catch(error){console.error('Error generating answer:',error);// Show error message to user\nconst errorMessage={id:Date.now(),type:'assistant-answer',content:\"I'm sorry, I encountered an error generating your personalized answer. Please try again.\",timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setLoadingMessages(prev=>{const newSet=new Set(prev);newSet.delete(messageId);return newSet;});setIsSending(false);}};const handleSkipQuestions=async messageId=>{// Lock the message and set loading state for this specific message\nsetLockedMessages(prev=>new Set([...prev,messageId]));setLoadingMessages(prev=>new Set([...prev,messageId]));try{// Find the clarifying message to get its index\nconst clarifyingMessageIndex=messages.findIndex(msg=>msg.id===messageId);if(clarifyingMessageIndex===-1){throw new Error('Clarifying message not found');}// Find the user message that comes before this clarifying message\nconst userMessage=messages.slice(0,clarifyingMessageIndex).reverse().find(msg=>msg.type==='user');if(!userMessage){throw new Error('Original user message not found');}// Generate answer using the new API endpoint without clarifications\nconst answerResponse=await axios.post(\"\".concat(API_BASE_URL,\"/generate-final\"),{prompt:userMessage.content,skipClarifications:true,fromClarificationFlow:true});const answerMessage={id:Date.now(),type:'assistant-answer',content:answerResponse.data.answer,timestamp:new Date()};setMessages(prev=>[...prev,answerMessage]);}catch(error){console.error('Error generating answer:',error);// Show error message to user\nconst errorMessage={id:Date.now(),type:'assistant-answer',content:\"I'm sorry, I encountered an error generating your answer. Please try again.\",timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setLoadingMessages(prev=>{const newSet=new Set(prev);newSet.delete(messageId);return newSet;});setIsSending(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const renderMessage=message=>{if(message.type==='user'){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 max-w-[80%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 text-white rounded-lg px-4 py-2 shadow-sm\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:message.content})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\",children:/*#__PURE__*/_jsx(AvatarFallback,{size:32,children:\"User\"})})]})},message.id);}if(message.type==='assistant-clarifying'){const isLocked=lockedMessages.has(message.id);const currentAnswers=messageAnswers[message.id]||{};const answeredCount=Object.values(currentAnswers).filter(answer=>answer&&answer.trim()!=='').length;const totalQuestions=message.questions.length;return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 max-w-[80%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\",children:/*#__PURE__*/_jsx(AvatarFallback,{size:32,children:\"Assistant\"})}),/*#__PURE__*/_jsx(Card,{className:\"\".concat(isLocked?'bg-gray-100 border-gray-300':'bg-white border-gray-200'),children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 mb-4\",children:message.content}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:message.questions.map((question,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm font-medium \".concat(isLocked?'text-gray-500':'text-gray-600'),children:[index+1,\". \",question]}),/*#__PURE__*/_jsx(Textarea,{value:currentAnswers[index]||'',onChange:e=>handleAnswerChange(message.id,index,e.target.value),placeholder:\"Your answer\",className:\"min-h-[40px] resize-none text-sm \".concat(isLocked?'bg-gray-100 border-gray-300 text-gray-500 cursor-not-allowed':''),disabled:isLocked})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mt-4\",children:isLocked?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:answeredCount>0?/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2713 \",answeredCount,\"/\",totalQuestions,\" answered\"]}):/*#__PURE__*/_jsx(\"span\",{children:\"\\u2713 Skipped\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{onClick:()=>handleSubmitAnswers(message.id),disabled:loadingMessages.has(message.id),size:\"sm\",children:[loadingMessages.has(message.id)?/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin mr-2\"}):null,\"Add Context\"]}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleSkipQuestions(message.id),disabled:loadingMessages.has(message.id),variant:\"outline\",size:\"sm\",children:\"Skip & Continue\"})]})})]})})]})},message.id);}if(message.type==='assistant-answer'){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 max-w-[80%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\",children:/*#__PURE__*/_jsx(AvatarFallback,{size:32,children:\"Assistant\"})}),/*#__PURE__*/_jsx(Card,{className:\"bg-white border-gray-200\",children:/*#__PURE__*/_jsx(CardContent,{className:\"p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 whitespace-pre-wrap\",children:message.content})})})]})},message.id);}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center p-4\",style:{minHeight:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-50 dark:bg-slate-900 -z-10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-4xl relative h-[85vh]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-800 dark:via-slate-700 dark:to-slate-800 rounded-2xl blur-md scale-105\"}),/*#__PURE__*/_jsxs(Card,{className:\"relative h-full flex flex-col shadow-2xl border-0 bg-white dark:bg-slate-900 rounded-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-4 min-h-0\",children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 dark:text-gray-400 mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 mx-auto mb-4\",children:/*#__PURE__*/_jsx(AvatarFallback,{size:48,children:\"Assistant\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Drop your question. I'll help you think it through.\"})]}):messages.map(renderMessage),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\",children:/*#__PURE__*/_jsx(AvatarFallback,{size:32,children:\"Assistant\"})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gray-50 border-gray-200\",children:/*#__PURE__*/_jsx(CardContent,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"Thinking...\"})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-4 flex-shrink-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-b-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-x-0 -top-8 h-8 bg-gradient-to-b from-transparent to-white dark:to-slate-900 pointer-events-none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Textarea,{value:currentInput,onChange:e=>setCurrentInput(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Start typing...\",className:\"w-full min-h-[40px] resize-none p-3\",disabled:isLoading}),/*#__PURE__*/_jsx(Button,{variant:\"default\",size:\"icon\",\"aria-label\":\"Submit\",onClick:handleSendMessage,disabled:!currentInput.trim()||isSending,className:\"absolute bottom-2 right-2 h-8 w-8\",children:isSending?/*#__PURE__*/_jsx(Loader2,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ArrowUpIcon,{className:\"h-4 w-4\"})})]})]})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","ArrowUpIcon","Loader2","Button","Card","CardContent","Textarea","AvatarFallback","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","App","messages","setMessages","currentInput","setCurrentInput","isLoading","setIsLoading","isSending","setIsSending","messageAnswers","setMessageAnswers","lockedMessages","setLockedMessages","Set","loadingMessages","setLoadingMessages","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","id","Date","now","type","content","timestamp","prev","setTimeout","response","post","concat","prompt","data","needsClarification","clarifyingMessage","message","questions","answerMessage","answer","error","console","errorMessage","handleAnswerChange","messageId","questionIndex","value","_objectSpread","handleSubmitAnswers","currentAnswers","hasAnswers","Object","values","some","handleSkipQuestions","clarifyingMessageIndex","findIndex","msg","Error","slice","reverse","find","answerResponse","clarifications","filter","skipClarifications","fromClarificationFlow","newSet","delete","handleKeyPress","e","key","shiftKey","preventDefault","renderMessage","className","children","size","isLocked","has","answeredCount","length","totalQuestions","map","question","index","onChange","target","placeholder","disabled","onClick","variant","style","minHeight","ref","onKeyPress"],"sources":["/Users/tracyyyleung/Documents/Cursor/intent-clarifier/client/src/App.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { ArrowUpIcon, Loader2 } from 'lucide-react';\nimport { Button } from './components/ui/button';\nimport { Card, CardContent } from './components/ui/card';\nimport { Textarea } from './components/ui/textarea';\nimport AvatarFallback from './components/AvatarFallback';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [currentInput, setCurrentInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n  const [messageAnswers, setMessageAnswers] = useState({});\n  const [lockedMessages, setLockedMessages] = useState(new Set());\n  const [loadingMessages, setLoadingMessages] = useState(new Set());\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n\n  const handleSendMessage = async () => {\n    if (!currentInput.trim() || isLoading || isSending) return;\n\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: currentInput.trim(),\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setCurrentInput('');\n    setIsSending(true);\n    setIsLoading(true);\n    \n    // Reset isSending after a brief moment (user action is complete)\n    setTimeout(() => setIsSending(false), 100);\n\n    try {\n      // Use the new combined API endpoint with model configuration\n      const response = await axios.post(`${API_BASE_URL}/check-and-respond`, {\n        prompt: userMessage.content\n      });\n\n      if (response.data.needsClarification) {\n        const clarifyingMessage = {\n          id: Date.now() + 1,\n          type: 'assistant-clarifying',\n          content: response.data.message,\n          questions: response.data.questions,\n          timestamp: new Date()\n        };\n        \n        setMessages(prev => [...prev, clarifyingMessage]);\n      } else {\n        const answerMessage = {\n          id: Date.now() + 1,\n          type: 'assistant-answer',\n          content: response.data.answer,\n          timestamp: new Date()\n        };\n        \n        setMessages(prev => [...prev, answerMessage]);\n      }\n    } catch (error) {\n      console.error('Error processing message:', error);\n      \n      // Show error message to user\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'assistant-answer',\n        content: \"I'm sorry, I encountered an error processing your request. Please try again.\",\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n      setIsSending(false);\n    }\n  };\n\n  const handleAnswerChange = (messageId, questionIndex, value) => {\n    setMessageAnswers(prev => ({\n      ...prev,\n      [messageId]: {\n        ...prev[messageId],\n        [questionIndex]: value\n      }\n    }));\n  };\n\n  const handleSubmitAnswers = async (messageId) => {\n    const currentAnswers = messageAnswers[messageId] || {};\n    // Check if all fields are empty (treat as skip)\n    const hasAnswers = Object.values(currentAnswers).some(answer => answer && answer.trim() !== '');\n    \n    if (!hasAnswers) {\n      // Treat as skip if no answers provided\n      handleSkipQuestions(messageId);\n      return;\n    }\n\n    // Lock the message and set loading state for this specific message\n    setLockedMessages(prev => new Set([...prev, messageId]));\n    setLoadingMessages(prev => new Set([...prev, messageId]));\n    \n    try {\n      // Find the clarifying message to get its index\n      const clarifyingMessageIndex = messages.findIndex(msg => msg.id === messageId);\n      if (clarifyingMessageIndex === -1) {\n        throw new Error('Clarifying message not found');\n      }\n      \n      // Find the user message that comes before this clarifying message\n      const userMessage = messages.slice(0, clarifyingMessageIndex)\n        .reverse()\n        .find(msg => msg.type === 'user');\n      \n      if (!userMessage) {\n        throw new Error('Original user message not found');\n      }\n\n      // Generate answer using the new API endpoint with clarifications\n      const answerResponse = await axios.post(`${API_BASE_URL}/generate-final`, {\n        prompt: userMessage.content,\n        clarifications: Object.values(currentAnswers).filter(answer => answer && answer.trim() !== ''),\n        skipClarifications: false,\n        fromClarificationFlow: true\n      });\n      \n      const answerMessage = {\n        id: Date.now(),\n        type: 'assistant-answer',\n        content: answerResponse.data.answer,\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, answerMessage]);\n    } catch (error) {\n      console.error('Error generating answer:', error);\n      \n      // Show error message to user\n      const errorMessage = {\n        id: Date.now(),\n        type: 'assistant-answer',\n        content: \"I'm sorry, I encountered an error generating your personalized answer. Please try again.\",\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoadingMessages(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(messageId);\n        return newSet;\n      });\n      setIsSending(false);\n    }\n  };\n\n  const handleSkipQuestions = async (messageId) => {\n    // Lock the message and set loading state for this specific message\n    setLockedMessages(prev => new Set([...prev, messageId]));\n    setLoadingMessages(prev => new Set([...prev, messageId]));\n    \n    try {\n      // Find the clarifying message to get its index\n      const clarifyingMessageIndex = messages.findIndex(msg => msg.id === messageId);\n      if (clarifyingMessageIndex === -1) {\n        throw new Error('Clarifying message not found');\n      }\n      \n      // Find the user message that comes before this clarifying message\n      const userMessage = messages.slice(0, clarifyingMessageIndex)\n        .reverse()\n        .find(msg => msg.type === 'user');\n      \n      if (!userMessage) {\n        throw new Error('Original user message not found');\n      }\n\n      // Generate answer using the new API endpoint without clarifications\n      const answerResponse = await axios.post(`${API_BASE_URL}/generate-final`, {\n        prompt: userMessage.content,\n        skipClarifications: true,\n        fromClarificationFlow: true\n      });\n      \n      const answerMessage = {\n        id: Date.now(),\n        type: 'assistant-answer',\n        content: answerResponse.data.answer,\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, answerMessage]);\n    } catch (error) {\n      console.error('Error generating answer:', error);\n      \n      // Show error message to user\n      const errorMessage = {\n        id: Date.now(),\n        type: 'assistant-answer',\n        content: \"I'm sorry, I encountered an error generating your answer. Please try again.\",\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoadingMessages(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(messageId);\n        return newSet;\n      });\n      setIsSending(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const renderMessage = (message) => {\n    if (message.type === 'user') {\n      return (\n        <div key={message.id} className=\"flex justify-end mb-4\">\n          <div className=\"flex items-start space-x-2 max-w-[80%]\">\n            <div className=\"bg-blue-500 text-white rounded-lg px-4 py-2 shadow-sm\">\n              <p className=\"text-sm\">{message.content}</p>\n            </div>\n            <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\">\n              <AvatarFallback size={32}>User</AvatarFallback>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (message.type === 'assistant-clarifying') {\n      const isLocked = lockedMessages.has(message.id);\n      const currentAnswers = messageAnswers[message.id] || {};\n      const answeredCount = Object.values(currentAnswers).filter(answer => answer && answer.trim() !== '').length;\n      const totalQuestions = message.questions.length;\n      \n      return (\n        <div key={message.id} className=\"flex justify-start mb-4\">\n          <div className=\"flex items-start space-x-2 max-w-[80%]\">\n            <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\">\n              <AvatarFallback size={32}>Assistant</AvatarFallback>\n            </div>\n            <Card className={`${isLocked ? 'bg-gray-100 border-gray-300' : 'bg-white border-gray-200'}`}>\n              <CardContent className=\"p-4\">\n                <p className=\"text-sm text-gray-700 mb-4\">{message.content}</p>\n                \n                <div className=\"space-y-3\">\n                  {message.questions.map((question, index) => (\n                    <div key={index} className=\"space-y-1\">\n                      <label className={`text-sm font-medium ${isLocked ? 'text-gray-500' : 'text-gray-600'}`}>\n                        {index + 1}. {question}\n                      </label>\n                      <Textarea\n                        value={currentAnswers[index] || ''}\n                        onChange={(e) => handleAnswerChange(message.id, index, e.target.value)}\n                        placeholder=\"Your answer\"\n                        className={`min-h-[40px] resize-none text-sm ${\n                          isLocked \n                            ? 'bg-gray-100 border-gray-300 text-gray-500 cursor-not-allowed' \n                            : ''\n                        }`}\n                        disabled={isLocked}\n                      />\n                    </div>\n                  ))}\n                </div>\n                \n                <div className=\"flex gap-2 mt-4\">\n                  {isLocked ? (\n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      {answeredCount > 0 ? (\n                        <span>✓ {answeredCount}/{totalQuestions} answered</span>\n                      ) : (\n                        <span>✓ Skipped</span>\n                      )}\n                    </div>\n                  ) : (\n                    <>\n                      <Button\n                        onClick={() => handleSubmitAnswers(message.id)}\n                        disabled={loadingMessages.has(message.id)}\n                        size=\"sm\"\n                      >\n                        {loadingMessages.has(message.id) ? (\n                          <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\n                        ) : null}\n                        Add Context\n                      </Button>\n                      \n                      <Button\n                        onClick={() => handleSkipQuestions(message.id)}\n                        disabled={loadingMessages.has(message.id)}\n                        variant=\"outline\"\n                        size=\"sm\"\n                      >\n                        Skip & Continue\n                      </Button>\n                    </>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      );\n    }\n\n    if (message.type === 'assistant-answer') {\n      return (\n        <div key={message.id} className=\"flex justify-start mb-4\">\n          <div className=\"flex items-start space-x-2 max-w-[80%]\">\n            <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\">\n              <AvatarFallback size={32}>Assistant</AvatarFallback>\n            </div>\n            <Card className=\"bg-white border-gray-200\">\n              <CardContent className=\"p-4\">\n                <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">{message.content}</p>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center p-4\" style={{ minHeight: '100vh' }}>\n      {/* Full viewport background to prevent white space on scroll */}\n      <div className=\"fixed inset-0 bg-gray-50 dark:bg-slate-900 -z-10\"></div>\n      \n      <div className=\"w-full max-w-4xl relative h-[85vh]\">\n        {/* Gradient blur effect around chat container */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-800 dark:via-slate-700 dark:to-slate-800 rounded-2xl blur-md scale-105\"></div>\n        \n        {/* Chat Container */}\n                <Card className=\"relative h-full flex flex-col shadow-2xl border-0 bg-white dark:bg-slate-900 rounded-2xl\">\n            {/* Messages Area - Scrollable Body */}\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-4 min-h-0\">\n              {messages.length === 0 ? (\n                <div className=\"text-center text-gray-500 dark:text-gray-400 mt-8\">\n                  <div className=\"w-12 h-12 mx-auto mb-4\">\n                    <AvatarFallback size={48}>Assistant</AvatarFallback>\n                  </div>\n                  <p>Drop your question. I'll help you think it through.</p>\n                </div>\n              ) : (\n                messages.map(renderMessage)\n              )}\n              \n              {isLoading && (\n                <div className=\"flex justify-start mb-4\">\n                  <div className=\"flex items-start space-x-2\">\n                    <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden\">\n                      <AvatarFallback size={32}>Assistant</AvatarFallback>\n                    </div>\n                    <Card className=\"bg-gray-50 border-gray-200\">\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Loader2 className=\"w-4 h-4 animate-spin text-gray-500\" />\n                          <span className=\"text-sm text-gray-500\">Thinking...</span>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                </div>\n              )}\n              \n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input Area - Fixed Footer with Fade Effect */}\n            <div className=\"relative p-4 flex-shrink-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-b-2xl\">\n              {/* Fade effect overlay */}\n              <div className=\"absolute inset-x-0 -top-8 h-8 bg-gradient-to-b from-transparent to-white dark:to-slate-900 pointer-events-none\"></div>\n              <div className=\"relative\">\n              <Textarea\n                value={currentInput}\n                onChange={(e) => setCurrentInput(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Start typing...\"\n                className=\"w-full min-h-[40px] resize-none p-3\"\n                disabled={isLoading}\n              />\n                <Button\n                  variant=\"default\"\n                  size=\"icon\"\n                  aria-label=\"Submit\"\n                  onClick={handleSendMessage}\n                  disabled={!currentInput.trim() || isSending}\n                  className=\"absolute bottom-2 right-2 h-8 w-8\"\n                >\n                  {isSending ? (\n                    <Loader2 className=\"h-4 w-4\" />\n                  ) : (\n                    <ArrowUpIcon className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </div>\n            </div>\n          </Card>\n        </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}