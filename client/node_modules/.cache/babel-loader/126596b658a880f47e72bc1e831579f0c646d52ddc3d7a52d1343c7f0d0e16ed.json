{"ast":null,"code":"import React from'react';// Utility functions for gradient generation\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function hash(name){let hash=0;for(var i=0;i<name.length;i++){var character=name.charCodeAt(i);hash=(hash<<5)-hash+character;hash=hash&hash;// Convert to 32bit integer\n}return Math.abs(hash);}function getDigit(number,ntn){return Math.floor(number/Math.pow(10,ntn)%10);}function getUnit(number,range,index){let value=number%range;if(index&&getDigit(number,index)%2===0){return-value;}else return value;}function getRandomColor(number,colors,range){return colors[number%range];}// Generate seeds once per page load and store them\nlet pageLoadSeed=null;let timeSeed=null;function generateColors(name,colors){let size=arguments.length>2&&arguments[2]!==undefined?arguments[2]:DEFAULT_SIZE;let numFromName;if(name===\"Assistant\"){// Assistant always uses the same gradient (no random seed)\nnumFromName=hash(\"Assistant\");}else{// User gets a new gradient on each page load - generate seeds only once\nif(pageLoadSeed===null){pageLoadSeed=Math.floor(Math.random()*1000000);timeSeed=Date.now()%1000000;}numFromName=hash(\"User\"+pageLoadSeed+timeSeed);}const range=colors&&colors.length;// Original logic scaled down proportionally for 32px\nconst elementsProperties=Array.from({length:3},(_,i)=>{let selectedColor=getRandomColor(numFromName+i,colors,range);// For user avatars, ensure the base color (first element) is different from Assistant's base color\nif(name!==\"Assistant\"&&i===0){const assistantBaseColor=getRandomColor(hash(\"Assistant\"),colors,range);// If user's base color matches assistant's base color, shift to next color\nif(selectedColor===assistantBaseColor){selectedColor=getRandomColor(numFromName+i+1,colors,range);}}return{color:selectedColor,// Original translation range scaled down for 32px (was 40/10 = 4, now 32/10 = 3.2)\ntranslateX:getUnit(numFromName*(i+1),size/10,1),translateY:getUnit(numFromName*(i+1),size/10,2),// Original scale range scaled down for 32px\nscale:1.2+getUnit(numFromName*(i+1),size/20)/10,rotate:getUnit(numFromName*(i+1),360,1)};});return elementsProperties;}const DEFAULT_SIZE=40;const colors=[\"#F6C750\",\"#E63525\",\"#050D4C\",\"#D4EBEE\"];export function AvatarFallback(_ref){let{children,size=DEFAULT_SIZE,className=\"\"}=_ref;const titleId=React.useId();const properties=generateColors(children,colors,size);const maskId=React.useId();const filterId=React.useId();return/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 \".concat(size,\" \").concat(size),fill:\"none\",role:\"img\",\"aria-describedby\":titleId,width:size,height:size,className:className,children:[/*#__PURE__*/_jsx(\"mask\",{id:maskId,maskUnits:\"userSpaceOnUse\",x:0,y:0,width:size,height:size,children:/*#__PURE__*/_jsx(\"rect\",{width:size,height:size,rx:size*2,fill:\"#FFFFFF\"})}),/*#__PURE__*/_jsxs(\"g\",{mask:\"url(#\".concat(maskId,\")\"),children:[/*#__PURE__*/_jsx(\"rect\",{width:size,height:size,fill:properties[0].color}),/*#__PURE__*/_jsx(\"path\",{filter:\"url(#\".concat(filterId,\")\"),d:\"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z\",fill:properties[1].color,transform:\"\\n            translate(\".concat(properties[1].translateX,\" \").concat(properties[1].translateY,\")\\n            rotate(\").concat(properties[1].rotate,\" \").concat(size/2,\" \").concat(size/2,\")\\n            scale(\").concat(properties[1].scale*(size/DEFAULT_SIZE),\")\\n          \")}),/*#__PURE__*/_jsx(\"path\",{filter:\"url(#\".concat(filterId,\")\"),style:{mixBlendMode:\"overlay\"},d:\"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z\",fill:properties[2].color,transform:\"\\n            translate(\".concat(properties[2].translateX,\" \").concat(properties[2].translateY,\")\\n            rotate(\").concat(properties[2].rotate,\" \").concat(size/2,\" \").concat(size/2,\")\\n            scale(\").concat(properties[2].scale*(size/DEFAULT_SIZE),\")\\n          \")})]}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"filter\",{id:filterId,filterUnits:\"userSpaceOnUse\",colorInterpolationFilters:\"sRGB\",children:[/*#__PURE__*/_jsx(\"feFlood\",{floodOpacity:0,result:\"BackgroundImageFix\"}),/*#__PURE__*/_jsx(\"feBlend\",{in:\"SourceGraphic\",in2:\"BackgroundImageFix\",result:\"shape\"}),/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:7,result:\"effect1_foregroundBlur\"})]})})]});}export default AvatarFallback;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","hash","name","i","length","character","charCodeAt","Math","abs","getDigit","number","ntn","floor","pow","getUnit","range","index","value","getRandomColor","colors","pageLoadSeed","timeSeed","generateColors","size","arguments","undefined","DEFAULT_SIZE","numFromName","random","Date","now","elementsProperties","Array","from","_","selectedColor","assistantBaseColor","color","translateX","translateY","scale","rotate","AvatarFallback","_ref","children","className","titleId","useId","properties","maskId","filterId","viewBox","concat","fill","role","width","height","id","maskUnits","x","y","rx","mask","filter","d","transform","style","mixBlendMode","filterUnits","colorInterpolationFilters","floodOpacity","result","in","in2","stdDeviation"],"sources":["/Users/tracyyyleung/Documents/Cursor/intent-clarifier/client/src/components/AvatarFallback.jsx"],"sourcesContent":["import React from 'react';\n\n// Utility functions for gradient generation\nfunction hash(name) {\n  let hash = 0;\n  for (var i = 0; i < name.length; i++) {\n    var character = name.charCodeAt(i);\n    hash = (hash << 5) - hash + character;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return Math.abs(hash);\n}\n\nfunction getDigit(number, ntn) {\n  return Math.floor((number / Math.pow(10, ntn)) % 10);\n}\n\nfunction getUnit(number, range, index) {\n  let value = number % range;\n  if (index && getDigit(number, index) % 2 === 0) {\n    return -value;\n  } else return value;\n}\n\nfunction getRandomColor(number, colors, range) {\n  return colors[number % range];\n}\n\n// Generate seeds once per page load and store them\nlet pageLoadSeed = null;\nlet timeSeed = null;\n\nfunction generateColors(name, colors, size = DEFAULT_SIZE) {\n  let numFromName;\n  \n  if (name === \"Assistant\") {\n    // Assistant always uses the same gradient (no random seed)\n    numFromName = hash(\"Assistant\");\n  } else {\n    // User gets a new gradient on each page load - generate seeds only once\n    if (pageLoadSeed === null) {\n      pageLoadSeed = Math.floor(Math.random() * 1000000);\n      timeSeed = Date.now() % 1000000;\n    }\n    numFromName = hash(\"User\" + pageLoadSeed + timeSeed);\n  }\n  \n  const range = colors && colors.length;\n\n  // Original logic scaled down proportionally for 32px\n  const elementsProperties = Array.from({ length: 3 }, (_, i) => {\n    let selectedColor = getRandomColor(numFromName + i, colors, range);\n    \n    // For user avatars, ensure the base color (first element) is different from Assistant's base color\n    if (name !== \"Assistant\" && i === 0) {\n      const assistantBaseColor = getRandomColor(hash(\"Assistant\"), colors, range);\n      // If user's base color matches assistant's base color, shift to next color\n      if (selectedColor === assistantBaseColor) {\n        selectedColor = getRandomColor(numFromName + i + 1, colors, range);\n      }\n    }\n    \n    return {\n      color: selectedColor,\n      // Original translation range scaled down for 32px (was 40/10 = 4, now 32/10 = 3.2)\n      translateX: getUnit(numFromName * (i + 1), size / 10, 1),\n      translateY: getUnit(numFromName * (i + 1), size / 10, 2),\n      // Original scale range scaled down for 32px\n      scale: 1.2 + getUnit(numFromName * (i + 1), size / 20) / 10,\n      rotate: getUnit(numFromName * (i + 1), 360, 1),\n    };\n  });\n\n  return elementsProperties;\n}\n\nconst DEFAULT_SIZE = 40;\nconst colors = [\"#F6C750\", \"#E63525\", \"#050D4C\", \"#D4EBEE\"];\n\nexport function AvatarFallback({ \n  children, \n  size = DEFAULT_SIZE, \n  className = \"\" \n}) {\n  const titleId = React.useId();\n  const properties = generateColors(children, colors, size);\n  const maskId = React.useId();\n  const filterId = React.useId();\n\n  return (\n    <svg\n      viewBox={`0 0 ${size} ${size}`}\n      fill=\"none\"\n      role=\"img\"\n      aria-describedby={titleId}\n      width={size}\n      height={size}\n      className={className}\n    >\n      <mask\n        id={maskId}\n        maskUnits=\"userSpaceOnUse\"\n        x={0}\n        y={0}\n        width={size}\n        height={size}\n      >\n        <rect width={size} height={size} rx={size * 2} fill=\"#FFFFFF\" />\n      </mask>\n      <g mask={`url(#${maskId})`}>\n        <rect width={size} height={size} fill={properties[0].color} />\n        <path\n          filter={`url(#${filterId})`}\n          d=\"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z\"\n          fill={properties[1].color}\n          transform={`\n            translate(${properties[1].translateX} ${properties[1].translateY})\n            rotate(${properties[1].rotate} ${size / 2} ${size / 2})\n            scale(${properties[1].scale * (size / DEFAULT_SIZE)})\n          `}\n        />\n        <path\n          filter={`url(#${filterId})`}\n          style={{\n            mixBlendMode: \"overlay\",\n          }}\n          d=\"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z\"\n          fill={properties[2].color}\n          transform={`\n            translate(${properties[2].translateX} ${properties[2].translateY})\n            rotate(${properties[2].rotate} ${size / 2} ${size / 2})\n            scale(${properties[2].scale * (size / DEFAULT_SIZE)})\n          `}\n        />\n      </g>\n      <defs>\n        <filter\n          id={filterId}\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n          <feBlend in=\"SourceGraphic\" in2=\"BackgroundImageFix\" result=\"shape\" />\n          <feGaussianBlur stdDeviation={7} result=\"effect1_foregroundBlur\" />\n        </filter>\n      </defs>\n    </svg>\n  );\n}\n\nexport default AvatarFallback;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}